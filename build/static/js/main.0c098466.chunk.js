(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(t,e,n){t.exports=n(282)},143:function(t,e,n){},282:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(28),o=n.n(r),c=(n(143),n(118)),l=n(119),u=n(128),m=n(120),s=n(129),h=n(289),f=n(117),d=n(290),g=n(291),v=n(36),p=n.n(v),w="http://localhost:3001/items",y={getAll:function(){return p.a.get(w).then(function(t){return t.data})},create:function(t){return p.a.post(w,t).then(function(t){return t.data})},update:function(t,e){return p.a.put("".concat(w,"/").concat(t),e).then(function(t){return t.data})},remove:function(t){return p.a.delete("".concat(w,"/").concat(t)).then(function(t){return t.data})}},E=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(u.a)(this,Object(m.a)(e).call(this,t))).addItem=function(t){t.preventDefault();var e={name:n.state.newItem,quantity:n.state.newQuantity};y.create(e).then(function(t){n.setState({items:n.state.items.concat(t),newItem:"",newQuantity:""})})},n.handleItemChange=function(t){n.setState({newItem:t.target.value})},n.handleQuantityChange=function(t){n.setState({newQuantity:t.target.value})},n.increase=function(t){var e=t.target.getAttribute("name"),a=JSON.parse(JSON.stringify(n.state.items));console.log(a);for(var i=null,r=0;r<a.length;r++)a[r].name===e&&(i=r);a[i].quantity++;var o=a.map(function(t){return t.id});console.log(o);for(var c=0;c<a.length;c++)y.remove(o[c]).then(function(t){n.setState({items:[]})});for(var l=0;l<a.length;l++)y.create(a[l]).then(function(t){n.setState({items:n.state.items.concat(t),newItem:"",newQuantity:""})})},n.decrease=function(t){var e=t.target.getAttribute("name"),a=JSON.parse(JSON.stringify(n.state.items));console.log(a);for(var i=null,r=0;r<a.length;r++)a[r].name===e&&(i=r);a[i].quantity--;var o=a.map(function(t){return t.id});console.log(o);for(var c=0;c<a.length;c++)y.remove(o[c]).then(function(t){n.setState({items:[]})});for(var l=0;l<a.length;l++)y.create(a[l]).then(function(t){n.setState({items:n.state.items.concat(t),newItem:"",newQuantity:""})})},n.removeItem=function(t){var e=t.target.getAttribute("id");y.remove(e).then(function(t){n.setState({items:n.state.items.filter(function(t){return t.id.toString()!==e}),newItem:"",newQuantity:""})})},n.clearList=function(){var t=n.state.items.map(function(t){return t.id});console.log(t);for(var e=0;e<n.state.items.length;e++)y.remove(t[e]).then(function(t){n.setState({items:[]})})},n.state={items:[],newItem:"",newQuantity:""},n}return Object(s.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;y.getAll().then(function(e){t.setState({items:e})})}},{key:"render",value:function(){var t=this;return i.a.createElement(h.a,null,i.a.createElement("div",{id:"main"},i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("img",{id:"image",alt:"sheltti ",src:"https://www.tunturisusi.com/koiralinkit/kuva633.jpg"})),i.a.createElement("h1",null,i.a.createElement(f.a,{name:"tasks",size:"large",color:"orange"}),"Shopping list"),i.a.createElement("form",{id:"form",onSubmit:this.addItem},i.a.createElement(d.a,{label:{basic:!0,content:"Item"},id:"input",type:"text",placeholder:"Item",value:this.state.newItem,onChange:this.handleItemChange}),i.a.createElement(d.a,{label:{basic:!0,content:"Amount"},id:"input",type:"number",placeholder:"Quantity",value:this.state.newQuantity,onChange:this.handleQuantityChange}),i.a.createElement(g.a,{color:"green",type:"submit"},"Add"))),i.a.createElement("div",{id:"list"},this.state.items.map(function(e){return i.a.createElement("li",{key:e.name},i.a.createElement(f.a,{name:"check",color:"green"})," ",e.name,": ",e.quantity," ",i.a.createElement(g.a,{id:"button",name:e.name,onClick:t.increase},"+"),i.a.createElement(g.a,{id:"button",name:e.name,onClick:t.decrease},"-"),i.a.createElement(g.a,{name:e.name,id:e.id,onClick:t.removeItem,color:"red"},"Remove"))}),i.a.createElement("br",null),i.a.createElement(g.a,{primary:!0,onClick:this.clearList},"Clear list"))))}}]),e}(i.a.Component);o.a.render(i.a.createElement(E,null),document.getElementById("root"))}},[[138,2,1]]]);
//# sourceMappingURL=main.0c098466.chunk.js.map