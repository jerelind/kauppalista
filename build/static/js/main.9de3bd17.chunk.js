(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,n){e.exports=n(282)},143:function(e,t,n){},282:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(28),o=n.n(r),c=(n(143),n(118)),u=n(119),l=n(128),m=n(120),s=n(129),h=n(289),f=n(117),d=n(290),g=n(291),v=n(36),p=n.n(v),w={getAll:function(){return p.a.get("/items").then(function(e){return e.data})},create:function(e){return p.a.post("/items",e).then(function(e){return e.data})},update:function(e,t){return p.a.put("".concat("/items","/").concat(e),t).then(function(e){return e.data})},remove:function(e){return p.a.delete("".concat("/items","/").concat(e)).then(function(e){return e.data})}},y=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).addItem=function(e){e.preventDefault();var t={name:n.state.newItem,quantity:n.state.newQuantity};w.create(t).then(function(e){n.setState({items:n.state.items.concat(e),newItem:"",newQuantity:""})})},n.handleItemChange=function(e){n.setState({newItem:e.target.value})},n.handleQuantityChange=function(e){n.setState({newQuantity:e.target.value})},n.increase=function(e){var t=e.target.getAttribute("name"),a=JSON.parse(JSON.stringify(n.state.items));console.log(a);for(var i=null,r=0;r<a.length;r++)a[r].name===t&&(i=r);a[i].quantity++;var o=a.map(function(e){return e.id});console.log(o);for(var c=0;c<a.length;c++)w.remove(o[c]).then(function(e){n.setState({items:[]})});for(var u=0;u<a.length;u++)w.create(a[u]).then(function(e){n.setState({items:n.state.items.concat(e),newItem:"",newQuantity:""})})},n.decrease=function(e){var t=e.target.getAttribute("name"),a=JSON.parse(JSON.stringify(n.state.items));console.log(a);for(var i=null,r=0;r<a.length;r++)a[r].name===t&&(i=r);a[i].quantity--;var o=a.map(function(e){return e.id});console.log(o);for(var c=0;c<a.length;c++)w.remove(o[c]).then(function(e){n.setState({items:[]})});for(var u=0;u<a.length;u++)w.create(a[u]).then(function(e){n.setState({items:n.state.items.concat(e),newItem:"",newQuantity:""})})},n.removeItem=function(e){var t=e.target.getAttribute("id");w.remove(t).then(function(e){n.setState({items:n.state.items.filter(function(e){return e.id.toString()!==t}),newItem:"",newQuantity:""})})},n.clearList=function(){var e=n.state.items.map(function(e){return e.id});console.log(e);for(var t=0;t<n.state.items.length;t++)w.remove(e[t]).then(function(e){n.setState({items:[]})})},n.state={items:[],newItem:"",newQuantity:""},n}return Object(s.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.getAll().then(function(t){e.setState({items:t})})}},{key:"render",value:function(){var e=this;return i.a.createElement(h.a,null,i.a.createElement("div",{id:"main"},i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("img",{id:"image",alt:"sheltti ",src:"https://www.tunturisusi.com/koiralinkit/kuva633.jpg"})),i.a.createElement("h1",null,i.a.createElement(f.a,{name:"tasks",size:"large",color:"orange"}),"Shopping list"),i.a.createElement("form",{id:"form",onSubmit:this.addItem},i.a.createElement(d.a,{label:{basic:!0,content:"Item"},id:"input",type:"text",placeholder:"Item",value:this.state.newItem,onChange:this.handleItemChange}),i.a.createElement(d.a,{label:{basic:!0,content:"Amount"},id:"input",type:"number",placeholder:"Quantity",value:this.state.newQuantity,onChange:this.handleQuantityChange}),i.a.createElement(g.a,{color:"green",type:"submit"},"Add"))),i.a.createElement("div",{id:"list"},this.state.items.map(function(t){return i.a.createElement("li",{key:t.name},i.a.createElement(f.a,{name:"check",color:"green"})," ",t.name,": ",t.quantity," ",i.a.createElement(g.a,{id:"button",name:t.name,onClick:e.increase},"+"),i.a.createElement(g.a,{id:"button",name:t.name,onClick:e.decrease},"-"),i.a.createElement(g.a,{name:t.name,id:t.id,onClick:e.removeItem,color:"red"},"Remove"))}),i.a.createElement("br",null),i.a.createElement(g.a,{primary:!0,onClick:this.clearList},"Clear list"))))}}]),t}(i.a.Component);o.a.render(i.a.createElement(y,null),document.getElementById("root"))}},[[138,2,1]]]);
//# sourceMappingURL=main.9de3bd17.chunk.js.map